<!DOCTYPE html>
<html>

<head>
  <title>AllScale Dashboard</title>
  <meta charset="utf-8">
  <link href="css/bootstrap-grid.min.css" rel="stylesheet">
  <link href="css/rickshaw.min.css" rel="stylesheet">
  <link href="css/overview.css" rel="stylesheet">
  <link rel="shortcut icon" href="images/allscale.ico" type="image/x-icon">
</head>

<body>
  <table id="main">
    <tr>
      <td id="summary" class="box" colspan="3">
        <img id="logo" alt="AllScale Logo" src="images/allscale.png">

        <div id="summary-speed"></div>
        <div id="summary-efficiency"></div>
        <div id="summary-power"></div>
        <div id="summary-score"></div>

        <div id="summary-details"></div>
      </td>
    </tr>
    <tr>
      <td id="legend" class="box" rowspan="2"></td>
      <td id="speed" class="box">
        <div class="chart-title">Speed</div>
        <div class="chart"></div>
        <div class="x-axis"></div>
        <div class="y-axis"></div>
      </td>
      <td id="efficiency" class="box">
        <div class="chart-title">Efficiency</div>
        <div class="chart"></div>
        <div class="x-axis"></div>
        <div class="y-axis"></div>
      </td>
    </tr>
    <tr>
      <td id="power" class="box">
        <div class="chart-title">Power</div>
        <div class="chart"></div>
        <div class="x-axis"></div>
        <div class="y-axis"></div>
      </td>
      <td id="data" class="box">
        <div id="dataviz-controls">
          <select id="scheduler">
            <option>uniform</option>
            <option>balanced</option>
            <option>tuned</option>
            <option>random</option>
          </select>
          <select id="data-item-selection" disabled="true" onchange="dataItemSelectionChanged()">
            <option value="-1"> - no data items - </option>
          </select>
        </div>
        <div id="dataviz"></div>
      </td>
    </tr>
  </table>

  <script src="js/jquery.min.js"></script>
  <script src="js/d3.min.js"></script>
  <script src="js/rickshaw.min.js"></script>
  <script src="js/raphael-2.1.4.min.js"></script>
  <script src="js/justgage.js"></script>
  <script src="js/overview.js"></script>

  <script src="js/three.min.js"></script>
  <script src="js/controls/OrbitControls.js"></script>

  <script>
    var data_distribution_state = [];
  </script>

  <script src="js/test/test_data_3.js"></script>
  <script src="js/test/test_data_4.js"></script>
  <script src="js/test/test_data_15.js"></script>
  <script src="js/test/test_data_16.js"></script>

  <script src="js/data_distribution.js"></script>

  <script>
    var ws = new WebSocket(`ws://${window.location.host}/ws`);

    initSummary();
    initNodes();
    initWidgets();

    $(function () {
      ws.onmessage = processMessage;
      ws.onopen = function (evt) {
        console.info("Status Open");
      };
      ws.onclose = function (evt) {
        console.info("Status Closed");
      };
      ws.onerror = function (evt) {
        console.error(evt.data);
      };
    });
  </script>

</body>

</html>
