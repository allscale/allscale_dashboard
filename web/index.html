<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
</head>

<body>
  <div id="output"></div>

  <script>
    window.addEventListener("load", function (evt) {
      var output = document.getElementById("output");

      var print = function (message) {
        var d = document.createElement("div");
        d.innerHTML = message;
        output.appendChild(d);
      };

      var ws = new WebSocket("ws://localhost:8080/status");
      ws.onopen = function (evt) {
        console.log("Status Open");
      };
      ws.onclose = function (evt) {
        console.log("Status Closed");
      };
      ws.onmessage = function (evt) {
        print(evt.data);
      };
      ws.onerror = function (evt) {
        print("ERROR: " + evt.data);
      };
    });
  </script>
</body>

</html>
